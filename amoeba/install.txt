#!/bin/bash
# AMOEBA 2048AES SDK Installation Script
# Description: Installs dependencies and sets up the AMOEBA 2048AES SDK environment for GitHub users, including Dropbox integration.

echo "Installing AMOEBA 2048AES SDK..."

# Install system dependencies
sudo apt update
sudo apt install -y python3 python3-pip nvidia-driver-535 nvidia-cuda-toolkit

# Install Python dependencies
pip install --quiet qiskit==1.0.0 torch==2.0.1 pydantic dropbox==11.36.2 cryptography click pytest prometheus-client

# Install OCaml and Ortac for formal verification
sudo apt install -y opam
opam init --disable-sandboxing
opam install -y ortac

# Install Docker and NVIDIA Container Toolkit
curl -fsSL https://get.docker.com -o get-docker.sh
sh get-docker.sh
sudo apt-get install -y nvidia-container-toolkit
sudo systemctl restart docker

# Clone and set up project
mkdir -p amoeba2048_sdk
cp -r *.py *.yml *.md *.mli Dockerfile* amoeba2048_sdk/
cd amoeba2048_sdk
docker-compose up -d

echo "AMOEBA 2048AES SDK installation complete."
echo "Run 'python3 amoeba2048_cli.py --help' to get started."
