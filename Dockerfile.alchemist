FROM python:3.11-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt torch torchvision

COPY server/models/mcp_alchemist.py .
COPY server/services/prompt_training.py .

CMD ["python", "-c", "from mcp_alchemist import Alchemist; from prompt_training import PromptTrainer; trainer = PromptTrainer(); trainer.train()"]
