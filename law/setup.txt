#!/bin/bash
# setup.sh
# Description: Setup script for the Lawmakers Suite 2048-AES. Automates the creation of a Conda environment, installation of Python dependencies, and launching of Docker services. Designed for novice teams to quickly initialize the platform. Run with `bash setup.sh` after cloning the repository.

# Check for Conda
if ! command -v conda &> /dev/null; then
    echo "Conda not found. Please install Anaconda and try again."
    exit 1
fi

# Create and activate Conda environment
echo "Creating Conda environment 'lawmakers'..."
conda create -n lawmakers python=3.9 -y
source $(conda info --base)/etc/profile.d/conda.sh
conda activate lawmakers

# Install dependencies
echo "Installing Python dependencies..."
pip install -r requirements.txt

# Check for Docker
if ! command -v docker &> /dev/null; then
    echo "Docker not found. Please install Docker Desktop and try again."
    exit 1
fi

# Start Docker services
echo "Starting Docker services..."
docker-compose up -d

echo "Setup complete! Access the API at http://localhost:8000/docs and the dashboard at http://localhost:8501."